(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[0],{109:function(A,t,e){"use strict";e.r(t);var i=e(1),g=e.n(i),n=e(4),r=e.n(n),c=(e(43),e(5)),h=e(21),o=e(6),a=function(A,t){return t||(t=0),Number("".concat(Math.round("".concat(A,"e").concat(t)),"e-").concat(t))},l=["iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO0Scz4DwAD7AIGykeHNgAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNsfP3lPwAHtgNhjbed3QAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO08+/9DwAECAIbYvarOwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPUSjf9DwADUAHH2R4+qQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPsmL/9PwAGdALfLLTZgwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMM2FD3HwAFVQJ/wQSakQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcUtf+HwAF4QKaLYURggAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO007D9DwAC8wGkgAj2wQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPk7Z/6HwAEFAIygk/bbQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85i3/HwAFQAIxwDfEwwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMU9Hj3HwAEAQJI0J8X3wAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNUk+f6DwACEgFQ4cywdAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcd/rmfwAHlANDxXJFGwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNsSun9DwAFVwJ0Dslp5gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMMSz/DwAEGgINf5zfKgAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNcVZn/HwAF+gKTwpRdtAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNcVZn/HwAF+gKTwpRdtAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN0z4z6DwAEFAILQQRF+gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMnnr4PwAF2gK8g2AjSgAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/WT+fwAI3wN/ghaxIAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsyAz6DwAEyAI0CG2DPQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOM3dv8HwAFugKeFHNe2gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsLSv4DwAFPwJkf7xuOwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNstk38DwAEjgIiTpcmsQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/7/wPwAI5ANwEHGVPQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkyuj5DwADYQH3Gb9KdwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO8cXX9fwAIRgNdOpasaAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN80S37HwAGhAKRsld48QAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85tf3HwAGJwKj3F8CBQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN8rhn2HwAFzAJnxf9sDQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM8fP/ufwAIbAOAdKkwIAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85tf3HwAGJwKj3F8CBQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMbnrxHwAFqwK+oiXE3gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcmvfiPwAGdwLsInOerQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcI9v1HwAE5AJEQOnd/AAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM03nvtPwAFuALHzaThLAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsLSv4DwAFPwJkf7xuOwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMter+DwAEYQIr1DLJIQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP81nPmPwAIHQNPG1c/KwAAAABJRU5ErkJggg=="].map((function(A){return"data:image/png;base64,"+A})),E=function(){return l[Math.floor(Math.random()*l.length)]},s=e(2);function w(A){var t=A.photos,e=A.onClick,n=A.margin,r=A.onLoad,l=Object(i.useState)(0),w=Object(c.a)(l,2),U=w[0],d=w[1],f=Object(i.useRef)(null);Object(i.useLayoutEffect)((function(){var A=null,t=new h.default((function(t){var e=t[0].contentRect.width;U!==e&&(A=window.requestAnimationFrame((function(){d(Math.floor(e))})))}));return t.observe(f.current),function(){t.disconnect(),window.cancelAnimationFrame(A)}}));var R=Object(i.useMemo)((function(){var A=function(A){var t=1;return A>=500&&(t=2),A>=900&&(t=3),A>=1500&&(t=4),A>=2200&&(t=5),A>=3e3&&(t=6),A>=3800&&(t=7),A>=4500&&(t=8),A>=5300&&(t=9),t}(U),e=function(A){for(var t=A.photos,e=A.columns,i=A.containerWidth,g=A.margin,n=(i-2*g*e)/e,r=t.map((function(A){var t=A.height/A.width*n;return Object(o.a)(Object(o.a)({},A),{},{width:a(n,1),height:a(t,1)})})),c=[],h=[],l=0;l<e;l++)c[l]=a(l*(n+2*g),1),h[l]=0;return r.map((function(A){var t=h.reduce((function(A,t,e){return t<h[A]?e:A}),0);A.top=h[t],A.left=c[t],h[t]=h[t]+A.height+2*g;var e=h.reduce((function(A,t,e){return t>h[A]?e:A}),0);return A.containerHeight=h[e],A}))}({containerWidth:U-1,columns:A,margin:n,photos:t}),i={position:"relative"};return e.length>0&&(i.height=e[e.length-1].containerHeight),[e,i]}),[U,n,t]),J=Object(c.a)(R,2),u=J[0],B=J[1],m=Object(i.useCallback)((function(A,i){var g=i.index;e(A,{index:g,photo:t[g],previous:t[g-1]||null,next:t[g+1]||null})}),[e,t]),O=Object(i.useMemo)((function(){return Array.from({length:t.length},(function(){return g.a.createRef()}))}),[t.length]);Object(i.useEffect)((function(){r(O.map((function(A){return A.current})))}),[r,O]);var p=Object(i.useMemo)((function(){return Array.from({length:t.length},E)}),[t.length]);return Object(s.jsx)("div",{id:"react-gallery",ref:f,style:B,children:u.map((function(A,t){var e=A.src,i=A.top,g=A.left,r=A.width,c=A.height,h=A.title,o=A.alt,a=p[t],l={position:"absolute",top:i,left:g,width:r,height:c,margin:n,background:"url(".concat(a,")")};return Object(s.jsxs)("div",{className:"react-photo",style:l,onClick:function(e){m(e,{photo:A,index:t})},children:[Object(s.jsx)("img",{ref:O[t],src:a,"data-original":e,width:r,height:c,alt:o,title:h}),Object(s.jsx)("span",{children:h})]},e)}))})}w.defaultProps={margin:8};var U=g.a.memo(w),d=e(13);function f(A){var t=A.viewerIsOpen,e=A.photos,i=A.currentPhoto,g=A.closeLightbox;return Object(s.jsx)(d.b,{children:t?Object(s.jsx)(d.a,{onClose:g,children:Object(s.jsx)(d.c,{currentIndex:i,showNavigationOnTouchDevice:!0,views:e.map((function(A){var t=A.src,e=A.title,i=A.size,g=i.height;return{src:t,caption:e,width:i.width,height:g}}))})}):null})}var R=g.a.memo(f);var J=function(){return Object(s.jsxs)("footer",{children:[Object(s.jsx)("span",{children:"© "})," 2021 ",Object(s.jsx)("a",{href:"https://tomotoes.com/",target:"blank",children:"TOMOTOES.COM"})]})};var u=function(){return Object(s.jsxs)("header",{children:["  ",Object(s.jsx)("span",{children:"底部原作者地址    本站源码来自原作者的map文件。"}),Object(s.jsx)("span",{children:"@"})," ",Object(s.jsx)("a",{href:"https://blog.lacknb.cn",children:" https: //blog.lacknb.cn"})]})},B=e(38);function m(A){if(A&&A.length&&!A.every((function(A){return!A}))){var t,e,i,g,n,r=Array.from({length:A.length}),c=(t=o,e=120,function(){var A=this,r=arguments;if(!i)return i=!0,t.apply(A,r),void(n=Date.now());clearTimeout(g),g=setTimeout((function(){Date.now()-n>=e&&(t.apply(A,r),n=Date.now())}),Math.max(e-(Date.now()-n),0))});window.addEventListener("scroll",c,!1),setTimeout(o,0)}function h(A,t){var e=new Image,i=A.dataset.original;e.src=i,e.onload=function(){A.classList.add("loaded"),A.src=i,r[t]=!0},e.onerror=function(){r[t]=!0}}function o(){var t,e,i,g,n,o;if(r.every((function(A){return!!A})))window.removeEventListener("scroll",c);else for(var a=0;a<A.length;++a)!r[a]&&(t=A[a],e=void 0,i=void 0,g=void 0,n=void 0,o=void 0,e=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,g=window.innerWidth||document.documentElement.clientWidth,n=e.top<=i&&e.top+e.height>=0,o=e.left<=g&&e.left+e.width>=0,n&&o||e.left>=0&&e.top>=0&&e.left+e.width<=g&&e.top+e.height<=i)&&h(A[a],a)}}var O,p,j=(O=[{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/8.jpg",title:"夜晚",alt:"公交站",width:3264,height:2448,size:{height:2448,width:3264}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/9.jpg",title:"写福",alt:"过年",width:1080,height:2340,size:{height:2340,width:1080}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/12.jpg",title:"隔离...",alt:"随手拍",width:3840,height:5120,size:{height:5120,width:3840}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/13.jpg",title:"沙尘暴",alt:"手机拍出来 黄色就没了",width:5120,height:3840,size:{height:3840,width:5120}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/11.jpg",title:"下雪了",alt:"下雪了",width:3840,height:5120,size:{height:5120,width:3840}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/10.jpg",title:"竹子",alt:"恭王府的竹子",width:5120,height:3840,size:{height:3840,width:5120}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/4.jpg",title:"后厂村路",alt:"走",width:1920,height:887,size:{height:887,width:1920}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/5.jpg",title:"熊",alt:"熊",width:5120,height:3840,size:{height:3840,width:5120}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/7.jpg",title:"熊",alt:"🐻",width:2448,height:3264,size:{height:3264,width:2448}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/6.jpg",title:"tiger",alt:"tiger",width:5120,height:3840,size:{height:3840,width:5120}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/2.jpg",title:"🌈",alt:"彩虹",width:5120,height:3840,size:{height:3840,width:5120}},{src:"https://cdn.jsdelivr.net/gh/MrNiebit/life@main/past/3.jpg",title:"。。。",alt:"。。。",width:5120,height:3840,size:{height:3840,width:5120}}],(p=document.createElement("canvas")).getContext&&p.getContext("2d")&&0==p.toDataURL("image/webp").indexOf("data:image/webp")?O.map((function(A){var t=A.src,e=Object(B.a)(A,["src"]);return Object(o.a)(Object(o.a)({},e),{},{src:t.replace(/((.jpg)|(.jpeg)|(.png))$/,".webp")})})):O);var S=function(){var A=Object(i.useState)(0),t=Object(c.a)(A,2),e=t[0],g=t[1],n=Object(i.useState)(!1),r=Object(c.a)(n,2),h=r[0],o=r[1],a=Object(i.useCallback)((function(A,t){t.photo;var e=t.index;g(e),o(!0)}),[]),l=Object(i.useCallback)((function(){g(0),o(!1)}),[]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(u,{}),Object(s.jsx)(U,{photos:j,onLoad:m,onClick:a}),Object(s.jsx)(R,{photos:j,viewerIsOpen:h,currentPhoto:e,closeLightbox:l}),Object(s.jsx)(J,{})]})};r.a.render(Object(s.jsx)(S,{}),document.getElementById("root"))},43:function(A,t,e){}},[[109,1,2]]]);